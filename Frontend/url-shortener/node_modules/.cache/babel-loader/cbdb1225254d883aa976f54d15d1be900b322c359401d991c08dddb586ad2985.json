{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\nexport const shortenUrl = async (url, customShort, expiry) => {\n  const requestBody = {\n    url,\n    ...(customShort && {\n      short: customShort\n    }),\n    ...(expiry && {\n      expiry\n    })\n  };\n  const response = await fetch(`${API_BASE_URL}/api/v1`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(requestBody)\n  });\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.error || 'Failed to shorten URL');\n  }\n  return response.json();\n};","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","shortenUrl","url","customShort","expiry","requestBody","short","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","error"],"sources":["C:/Users/ycgos/Pictures/Project/Shorten-URL-GOfiber-redis/Frontend/url-shortener/src/utils/api.ts"],"sourcesContent":["import { ShortenUrlRequest, ShortenedUrlResponse } from '../types';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:3000';\n\nexport const shortenUrl = async (\n  url: string,\n  customShort?: string,\n  expiry?: number\n): Promise<ShortenedUrlResponse> => {\n  const requestBody: ShortenUrlRequest = {\n    url,\n    ...(customShort && { short: customShort }),\n    ...(expiry && { expiry }),\n  };\n\n  const response = await fetch(`${API_BASE_URL}/api/v1`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(requestBody),\n  });\n\n  if (!response.ok) {\n    const errorData = await response.json();\n    throw new Error(errorData.error || 'Failed to shorten URL');\n  }\n\n  return response.json();\n};"],"mappings":"AAEA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,OAAO,MAAMC,UAAU,GAAG,MAAAA,CACxBC,GAAW,EACXC,WAAoB,EACpBC,MAAe,KACmB;EAClC,MAAMC,WAA8B,GAAG;IACrCH,GAAG;IACH,IAAIC,WAAW,IAAI;MAAEG,KAAK,EAAEH;IAAY,CAAC,CAAC;IAC1C,IAAIC,MAAM,IAAI;MAAEA;IAAO,CAAC;EAC1B,CAAC;EAED,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGX,YAAY,SAAS,EAAE;IACrDY,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,WAAW;EAClC,CAAC,CAAC;EAEF,IAAI,CAACE,QAAQ,CAACO,EAAE,EAAE;IAChB,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;IACvC,MAAM,IAAIC,KAAK,CAACF,SAAS,CAACG,KAAK,IAAI,uBAAuB,CAAC;EAC7D;EAEA,OAAOX,QAAQ,CAACS,IAAI,CAAC,CAAC;AACxB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}